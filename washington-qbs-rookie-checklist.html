<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' https: data:; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://api.github.com https://cards-oauth.iammikec.workers.dev;">
    <title>Washington Redskins/Commanders QB Rookie Cards (1982-2025)</title>
    <link rel="stylesheet" href="shared.css">
    <style>
        /* Washington Commanders Theme - Burgundy and Gold (Dark) */
        :root {
            --color-primary: #FFB612;
            --color-primary-dark: #5A1414;
            --color-accent: #FFB612;
            --color-background: linear-gradient(135deg, #5A1414 0%, #2a0a0a 100%);
            --color-surface: rgba(255,255,255,0.05);
            --color-text: #fff;
            --color-text-muted: #ccc;
            --color-text-light: #888;
            --auth-bg: rgba(0,0,0,0.2);
            --stat-bg: rgba(255,255,255,0.1);
            --stat-value-color: #FFB612;
            --card-border: transparent;
            --card-hover-color: rgba(255,182,18,0.5);
            --card-owned-bg: rgba(255,182,18,0.15);
            --card-owned-border: #FFB612;
            --nav-bg: linear-gradient(180deg, #3d0e0e 0%, #2a0808 100%);
        }

        * { margin: 0; padding: 0; }

        body {
            background: linear-gradient(135deg, #5A1414 0%, #2a0a0a 100%);
            min-height: 100vh;
            color: #fff;
        }

        .container { max-width: 1400px; margin: 0 auto; }

        /* Page header section */
        .page-header {
            background: rgba(0,0,0,0.3);
            padding: 20px 20px 24px;
            margin-bottom: 24px;
            position: relative;
        }
        .page-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, #FFB612, transparent);
        }

        .page-content {
            padding: 0 20px 20px;
        }

        h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.8em;
            font-weight: 400;
            letter-spacing: 0.05em;
            margin: 0 0 6px 0;
            background: linear-gradient(180deg, #d0d0d0 0%, #FFB612 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
        }

        .subtitle {
            color: #666;
            text-align: center;
            font-size: 0.75em;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            margin-bottom: 20px;
        }

        .stat {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.08);
        }

        .stat-value {
            color: #c8c8c8;
        }
        .stat-value.highlight {
            color: #FFB612;
        }

        /* Dark theme form elements */
        select, input[type="text"] {
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.3);
            color: #fff;
        }

        .filters {
            background: rgba(255,255,255,0.03);
            box-shadow: none;
            border: 1px solid rgba(255,255,255,0.05);
        }

        /* Era sections */
        .era-section { margin-bottom: 30px; }
        .era-title {
            font-size: 1.3em;
            color: #FFB612;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid rgba(255,182,18,0.3);
        }

        /* Card grid (uses different class name) */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        /* Dark theme cards */
        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 12px;
            border: 2px solid transparent;
            display: flex;
            flex-direction: column;
        }

        .card:hover {
            border-color: rgba(255,182,18,0.5);
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .card.owned {
            border-color: #FFB612;
            background: rgba(255,182,18,0.15);
        }

        .card.super-bowl { background: rgba(255,215,0,0.1); }
        .card.super-bowl.owned { background: rgba(39,174,96,0.2); }

        .card-image-wrapper {
            margin-bottom: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 8px;
        }

        .card-image { background: #1a1a1a; }
        .card-image.no-image {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.8em;
        }

        /* Price badge - different style for dark theme */
        .price-badge {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
        }

        .super-bowl-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: linear-gradient(135deg, #f1c40f, #f39c12);
            color: #000;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.65em;
            font-weight: bold;
            z-index: 1;
        }

        /* Player info */
        .player-name {
            font-size: 1em;
            font-weight: bold;
            color: #fff;
            margin-bottom: 2px;
        }
        .player-years { font-size: 0.75em; color: #888; }
        .player-record { font-size: 0.7em; color: #aaa; }
        .card-info { font-size: 0.75em; color: #bbb; margin: 6px 0; }
        .card-set { color: #FFB612; }
        .achievement {
            display: inline-block;
            background: rgba(255,182,18,0.2);
            color: #FFB612;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.65em;
            align-self: center;
        }

        /* Theme overrides for card actions */
        .checkbox-wrapper {
            font-size: 0.8em;
        }
        .checkbox-wrapper input { width: 16px; height: 16px; }
        .checkbox-wrapper label { color: inherit; }

        .owned-badge {
            color: #FFB612;
        }

        .links {
            font-size: 0.75em;
        }
        .links a {
            color: #3498db;
            text-decoration: none;
        }
        .links a:hover { text-decoration: underline; }

        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            font-size: 0.85em;
        }

        /* Collection link card (Jayden Daniels promo) */
        .card.collection-link {
            background: linear-gradient(135deg, rgba(255,182,18,0.2), rgba(255,182,18,0.05));
            border: 2px solid rgba(255,182,18,0.4);
            cursor: pointer;
        }
        .card.collection-link:hover {
            border-color: #FFB612;
            background: linear-gradient(135deg, rgba(255,182,18,0.3), rgba(255,182,18,0.1));
        }
        .card.collection-link .card-stack {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .card.collection-link .card-stack img {
            position: absolute;
            width: 70%;
            height: auto;
            object-fit: contain;
            border-radius: 4px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        .card.collection-link .card-stack img:nth-child(1) { transform: rotate(-8deg) translateX(-15%); opacity: 0.7; }
        .card.collection-link .card-stack img:nth-child(2) { transform: rotate(5deg) translateX(15%); opacity: 0.85; }
        .card.collection-link .card-stack img:nth-child(3) { transform: rotate(0deg); z-index: 2; }
        .collection-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: linear-gradient(135deg, #FFB612, #f39c12);
            color: #000;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            z-index: 3;
        }
        .collection-cta {
            display: block;
            text-align: center;
            background: linear-gradient(135deg, #FFB612, #f39c12);
            color: #000;
            padding: 8px 12px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 0.85em;
            margin-top: 8px;
            text-decoration: none;
            transition: transform 0.2s;
        }
        .collection-cta:hover { transform: scale(1.02); }

        @media (max-width: 600px) {
            .cards-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
            h1 { font-size: 1.5em; }
            .card { padding: 8px; }
        }
    </style>
</head>
<body>
    <nav class="nav-bar">
        <div class="nav-inner">
            <a href="index.html" class="nav-brand" title="All Checklists">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="8" height="11" rx="1" opacity="0.7"/>
                    <rect x="13" y="3" width="8" height="11" rx="1"/>
                    <rect x="3" y="16" width="18" height="5" rx="1" opacity="0.4"/>
                </svg>
                <span class="nav-brand-text">MIKE'S CARDS</span>
            </a>
            <div class="nav-divider"></div>
            <div class="nav-links">
                <a href="jayden-daniels-rookie-checklist.html" class="nav-link">JAYDEN DANIELS</a>
                <a href="washington-qbs-rookie-checklist.html" class="nav-link active">WASHINGTON QBS</a>
                <a href="jmu-pro-players-checklist.html" class="nav-link">JMU PROS</a>
            </div>
            <div class="nav-divider"></div>
            <div class="nav-auth">
                <span class="sync-status" id="sync-status"></span>
                <div id="auth-content"></div>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="page-header">
            <h1>Washington Redskins/Commanders</h1>
            <p class="subtitle">Starting QB Rookie Cards (1982-2025)</p>

            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="owned-count">0</div>
                    <div class="stat-label">Owned</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="total-count">0</div>
                    <div class="stat-label">Total Cards</div>
                </div>
                <div class="stat">
                    <div class="stat-value highlight" id="total-value">$0</div>
                    <div class="stat-label">Est. Value</div>
                    <div class="stat-breakdown">
                        <span class="owned-value" id="owned-value">$0 owned</span>
                        <span class="needed-value" id="needed-value">$0 needed</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="page-content">
        <div class="filters">
            <select id="sort-filter">
                <option value="default">Sort: Default (Era)</option>
                <option value="year">Sort: Card Year</option>
                <option value="price-low">Sort: Price (Low→High)</option>
                <option value="price-high">Sort: Price (High→Low)</option>
                <option value="winpct">Sort: Win %</option>
                <option value="wins">Sort: Games Won</option>
                <option value="games">Sort: Games Played</option>
                <option value="superbowl">Sort: Super Bowl Winners</option>
                <option value="owned">Sort: Owned First</option>
                <option value="needed">Sort: Needed First</option>
            </select>
            <select id="era-filter">
                <option value="all">All Eras</option>
                <option value="gibbs1">Gibbs Era I (1982-1992)</option>
                <option value="wilderness">Wilderness Years (1993-2003)</option>
                <option value="gibbs2">Gibbs Era II (2004-2007)</option>
                <option value="snyder">Snyder Era (2008-2019)</option>
                <option value="modern">Modern Era (2020-2025)</option>
            </select>
            <select id="status-filter">
                <option value="all">All Cards</option>
                <option value="owned">Owned Only</option>
                <option value="needed">Needed Only</option>
            </select>
            <input type="text" id="search" placeholder="Search player...">
        </div>

        <div id="cards-container"></div>
        </div><!-- end page-content -->

        <footer>
            <p>Prices are estimates for raw/ungraded cards. Data from SportsCardsPro.</p>
            <p>Super Bowl champions highlighted with gold badge.</p>
        </footer>
    </div>

    <script src="github-sync.js"></script>
    <script src="shared.js"></script>
    <script>
        // QB data loaded from external JSON file
        let qbs = null;
        let checklistData = null;

        async function loadQbData() {
            const response = await fetch('data/washington-qbs.json');
            if (!response.ok) {
                throw new Error('Failed to load QB data');
            }
            checklistData = await response.json();
            qbs = checklistData.qbs;
        }

        // Initialize ChecklistManager
        let jaydenDanielsStats = { owned: 0, total: 40 };

        const checklistManager = new ChecklistManager({
            checklistId: 'washington-qbs',
            ownerUsername: 'iammike',
            localStorageKey: 'washington-qbs-owned',
            onOwnedChange: () => { render(); },
            getStats: () => computeStats()
        });

        // Wrapper functions for backward compatibility
        function getCardId(qb) {
            return btoa(qb.name + qb.set + qb.num).replace(/[^a-zA-Z0-9]/g, '');
        }

        function isOwned(cardId) {
            return checklistManager.isOwned(cardId);
        }

        function toggleOwned(cardId) {
            const owned = isOwned(cardId);
            checklistManager.toggleOwned(cardId, !owned);
        }

        async function loadJaydenDanielsStats() {
            // Try gist base stats first (synced from JD page)
            try {
                if (window.githubSync) {
                    const baseStats = githubSync.isLoggedIn()
                        ? await githubSync.loadChecklist('jayden-daniels-base-stats')
                        : await githubSync.loadPublicChecklist('jayden-daniels-base-stats');
                    if (baseStats && baseStats[0]) {
                        jaydenDanielsStats.owned = baseStats[0].owned;
                        jaydenDanielsStats.total = baseStats[0].total;
                        return;
                    }
                }
            } catch (e) {
                console.log('Could not load base stats from gist');
            }
            // Second choice: localStorage (for testing, or if gist base stats not synced yet)
            try {
                const savedStats = JSON.parse(localStorage.getItem('jaydenDanielsBaseStats') || 'null');
                if (savedStats) {
                    jaydenDanielsStats.owned = savedStats.owned;
                    jaydenDanielsStats.total = savedStats.total;
                    return;
                }
            } catch (e) {
                console.log('Could not load from localStorage');
            }
            // Final fallback: count all owned from gist (includes inserts)
            try {
                if (window.githubSync) {
                    const jdOwned = githubSync.isLoggedIn()
                        ? await githubSync.loadChecklist('jayden-daniels')
                        : await githubSync.loadPublicChecklist('jayden-daniels');
                    if (jdOwned) {
                        jaydenDanielsStats.owned = jdOwned.length;
                    }
                }
            } catch (e) {
                console.log('Could not load Jayden Daniels stats from gist');
            }
        }

        function getCardYear(qb) {
            const match = qb.set.match(/(\d{4})/);
            return match ? parseInt(match[1]) : 0;
        }

        function getWinPct(qb) {
            if (!qb.record || qb.record === '-') return 0;
            const parts = qb.record.split('-');
            if (parts.length < 2) return 0;
            const wins = parseInt(parts[0]) || 0;
            const losses = parseInt(parts[1]) || 0;
            const total = wins + losses;
            return total > 0 ? wins / total : 0;
        }

        function getWins(qb) {
            if (!qb.record || qb.record === '-') return 0;
            const parts = qb.record.split('-');
            return parseInt(parts[0]) || 0;
        }

        function getGamesPlayed(qb) {
            if (!qb.record || qb.record === '-') return 0;
            const parts = qb.record.split('-');
            if (parts.length < 2) return 0;
            const wins = parseInt(parts[0]) || 0;
            const losses = parseInt(parts[1]) || 0;
            return wins + losses;
        }

        function sortQbs(qbsToSort, sortBy) {
            const sorted = [...qbsToSort];
            switch (sortBy) {
                case 'year':
                    sorted.sort((a, b) => getCardYear(a) - getCardYear(b));
                    break;
                case 'price-low':
                    sorted.sort((a, b) => (a.price || 0) - (b.price || 0));
                    break;
                case 'price-high':
                    sorted.sort((a, b) => (b.price || 0) - (a.price || 0));
                    break;
                case 'winpct':
                    sorted.sort((a, b) => getWinPct(b) - getWinPct(a));
                    break;
                case 'wins':
                    sorted.sort((a, b) => getWins(b) - getWins(a));
                    break;
                case 'games':
                    sorted.sort((a, b) => getGamesPlayed(b) - getGamesPlayed(a));
                    break;
                case 'superbowl':
                    sorted.sort((a, b) => (b.superBowl ? 1 : 0) - (a.superBowl ? 1 : 0));
                    break;
                case 'owned':
                    sorted.sort((a, b) => {
                        const ownedA = isOwned(getCardId(a)) ? 0 : 1;
                        const ownedB = isOwned(getCardId(b)) ? 0 : 1;
                        return ownedA - ownedB;
                    });
                    break;
                case 'needed':
                    sorted.sort((a, b) => {
                        const ownedA = isOwned(getCardId(a)) ? 1 : 0;
                        const ownedB = isOwned(getCardId(b)) ? 1 : 0;
                        return ownedA - ownedB;
                    });
                    break;
            }
            return sorted;
        }

        function renderQbCard(qb) {
            const cardId = qb.collectionLink ? null : getCardId(qb);
            const cardOwned = cardId ? isOwned(cardId) : false;

            // Special handling for collection link cards (Jayden Daniels full checklist)
            if (qb.collectionLink) {
                const total = jaydenDanielsStats.total || qb.cardCount;
                const jdBadge = jaydenDanielsStats.owned > 0
                    ? `${jaydenDanielsStats.owned} / ${total}`
                    : `${total} CARDS`;
                return `<div class="card collection-link" onclick="window.location.href='${qb.collectionLink}'">
                    <div class="card-image-wrapper">
                        <span class="collection-badge">${jdBadge}</span>
                        <div class="card-stack">
                            <img src="jayden-daniels-cards/card_00_wm8AAeSw.webp" alt="" loading="lazy">
                            <img src="jayden-daniels-cards/card_03_MuMAAOSw.webp" alt="" loading="lazy">
                            <img src="jayden-daniels-cards/resurgence_196.webp" alt="" loading="lazy">
                        </div>
                    </div>
                    <div class="player-name">${qb.name}</div>
                    <div class="player-years">${qb.years} &bull; ${qb.record}</div>
                    ${qb.playoff !== '-' ? `<div class="player-record">Playoffs: ${qb.playoff}</div>` : ''}
                    ${CardRenderer.renderAchievements(qb.achievement)}
                    <a href="${qb.collectionLink}" class="collection-cta">View Full Collection →</a>
                </div>`;
            }

            const cardClass = `card ${cardOwned ? 'owned' : ''} ${qb.superBowl ? 'super-bowl' : ''}`;
            const searchUrl = CardRenderer.getEbayUrl(qb.search);
            const scpUrl = CardRenderer.getScpUrl(encodeURIComponent(qb.name + ' rookie'));

            return `<div class="${cardClass}">
                <div class="card-image-wrapper">
                    ${qb.superBowl ? '<span class="super-bowl-badge">SUPER BOWL</span>' : ''}
                    ${CardRenderer.renderPriceBadge(qb.price)}
                    <img class="card-image" src="${qb.img}" alt="${qb.name}" loading="lazy" onerror="this.style.display='none'">
                </div>
                <div class="player-name">${qb.name}</div>
                <div class="player-years">${qb.years} &bull; ${qb.record}</div>
                ${qb.playoff !== '-' ? `<div class="player-record">Playoffs: ${qb.playoff}</div>` : ''}
                <div class="card-info">
                    <span class="card-set">${qb.set}</span> ${qb.num}
                </div>
                ${CardRenderer.renderAchievements(qb.achievement)}
                <div class="card-actions${checklistManager.isReadOnly && !cardOwned ? ' links-only' : ''}">
                    ${!checklistManager.isReadOnly ? `<label class="checkbox-wrapper">
                        <input type="checkbox" ${cardOwned ? 'checked' : ''} onchange="toggleOwned('${cardId}')">
                        <span>Owned</span>
                    </label>` : (cardOwned ? '<span class="owned-badge">✓ Owned</span>' : '')}
                    <span class="links">
                        <a href="${searchUrl}" target="_blank">eBay</a> · <a href="${scpUrl}" target="_blank">Prices</a>
                    </span>
                </div>
            </div>`;
        }

        function render() {
            const sortBy = document.getElementById('sort-filter').value;
            const eraFilter = document.getElementById('era-filter').value;
            const statusFilter = document.getElementById('status-filter').value;
            const searchTerm = document.getElementById('search').value.toLowerCase();

            let filtered = qbs.filter(qb => {
                if (eraFilter !== 'all' && qb.era !== eraFilter) return false;
                const cardId = qb.collectionLink ? null : getCardId(qb);
                if (statusFilter === 'owned' && (!cardId || !isOwned(cardId))) return false;
                if (statusFilter === 'needed' && cardId && isOwned(cardId)) return false;
                if (searchTerm && !qb.name.toLowerCase().includes(searchTerm)) return false;
                return true;
            });

            const container = document.getElementById('cards-container');

            // For non-default sort, render as flat list
            if (sortBy !== 'default') {
                const sorted = sortQbs(filtered, sortBy);
                let html = '<div class="era-section"><div class="cards-grid">';
                sorted.forEach(qb => {
                    html += renderQbCard(qb);
                });
                html += '</div></div>';
                container.innerHTML = html;
                updateStats(filtered);
                return;
            }

            // Default: group by era
            const eras = {
                gibbs1: { title: "Gibbs Era I (1982-1992) - 3 Super Bowls", cards: [] },
                wilderness: { title: "Wilderness Years (1993-2003)", cards: [] },
                gibbs2: { title: "Gibbs Era II (2004-2007)", cards: [] },
                snyder: { title: "Snyder Era (2008-2019)", cards: [] },
                modern: { title: "Modern Era (2020-2025)", cards: [] }
            };

            filtered.forEach(qb => {
                eras[qb.era].cards.push(qb);
            });

            let html = '';
            Object.entries(eras).forEach(([key, era]) => {
                if (era.cards.length === 0) return;
                html += `<div class="era-section">
                    <h2 class="era-title">${era.title}</h2>
                    <div class="cards-grid">`;
                era.cards.forEach(qb => {
                    html += renderQbCard(qb);
                });
                html += '</div></div>';
            });

            container.innerHTML = html;
            updateStats(filtered);
        }

        // Compute stats for saving (always uses all QBs, not filtered)
        function computeStats() {
            const countableQbs = qbs.filter(qb => !qb.collectionLink);
            let ownedCount = 0, totalValue = 0, ownedValue = 0, neededValue = 0;
            countableQbs.forEach(qb => {
                const price = qb.price || 0;
                const owned = isOwned(getCardId(qb));
                totalValue += price;
                if (owned) {
                    ownedCount++;
                    ownedValue += price;
                } else {
                    neededValue += price;
                }
            });
            return {
                owned: ownedCount,
                total: countableQbs.length,
                ownedValue: Math.round(ownedValue),
                neededValue: Math.round(neededValue)
            };
        }

        function updateStats(filteredQbs) {
            // Use filtered list if provided, otherwise use all
            const visibleQbs = filteredQbs || qbs;
            // Exclude collection link cards from counts
            const countableQbs = visibleQbs.filter(qb => !qb.collectionLink);
            const totalCount = countableQbs.length;
            let ownedCount = 0, totalValue = 0, ownedValue = 0, neededValue = 0;
            countableQbs.forEach(qb => {
                const price = qb.price || 0;
                const owned = isOwned(getCardId(qb));
                totalValue += price;
                if (owned) {
                    ownedCount++;
                    ownedValue += price;
                } else {
                    neededValue += price;
                }
            });

            // Animate stats on first load
            StatsAnimator.animateStats({
                owned: { el: document.getElementById('owned-count'), value: ownedCount },
                total: { el: document.getElementById('total-count'), value: totalCount },
                totalValue: { el: document.getElementById('total-value'), value: Math.round(totalValue) },
                ownedValue: { el: document.getElementById('owned-value'), value: Math.round(ownedValue) },
                neededValue: { el: document.getElementById('needed-value'), value: Math.round(neededValue) }
            });
            // Stats are now saved atomically with owned cards via getStats callback
        }

        document.getElementById('sort-filter').addEventListener('change', render);
        document.getElementById('era-filter').addEventListener('change', render);
        document.getElementById('status-filter').addEventListener('change', render);
        document.getElementById('search').addEventListener('input', render);

        // Initialize
        async function init() {
            try {
                await loadQbData();
                await checklistManager.init();
                await loadJaydenDanielsStats();
                render();
            } catch (err) {
                console.error('Failed to initialize:', err);
                document.querySelector('.page-content').innerHTML =
                    '<p style="color:red;padding:20px;">Failed to load QB data. Please refresh the page.</p>';
            }
        }
        init();
    </script>
</body>
</html>
