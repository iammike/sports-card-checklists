<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' https: data:; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://api.github.com https://cards-oauth.iammikec.workers.dev;">
    <title>Jayden Daniels Rookie Card Checklist</title>
    <link rel="stylesheet" href="shared.css">
    <style>
        /* Page-specific theme overrides */
        :root {
            --color-primary: #667eea;
            --color-primary-dark: #764ba2;
        }

        /* h1 color inherited from page-header context */

        /* Section header variants */
        .section-header.college {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .section-header.topps {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .section-header.other {
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        }

        /* Inserts section */
        .group-header.inserts {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            cursor: pointer;
        }
        .group-header.inserts::after {
            content: ' ▼';
            font-size: 12px;
            opacity: 0.7;
        }
        .group-header.inserts.collapsed::after {
            content: ' ▶';
        }
        .inserts-section .section-group {
            display: none;
        }
        .inserts-section.expanded .section-group {
            display: block;
        }
        .inserts-note {
            background: rgba(243, 156, 18, 0.1);
            color: #b36b00;
            padding: 10px 15px;
            font-size: 12px;
            border-bottom: 1px solid rgba(243, 156, 18, 0.2);
        }

        /* Chase section */
        .section-header.chase {
            background: linear-gradient(135deg, #f39c12 0%, #e74c3c 100%);
            cursor: pointer;
            user-select: none;
        }
        .section-header.chase::after {
            content: ' ▼';
            font-size: 12px;
            opacity: 0.7;
        }
        .section-header.chase.collapsed::after {
            content: ' ▶';
        }
        .chase-section .card-grid {
            display: none;
        }
        .chase-section.expanded .card-grid {
            display: grid;
        }
        .chase-note {
            background: rgba(243, 156, 18, 0.1);
            color: #b36b00;
            padding: 10px 15px;
            font-size: 12px;
            border-bottom: 1px solid rgba(243, 156, 18, 0.2);
        }
    </style>
</head>
<body>
    <nav class="nav-bar">
        <div class="nav-inner">
            <a href="index.html" class="nav-brand" title="All Checklists">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="8" height="11" rx="1" opacity="0.7"/>
                    <rect x="13" y="3" width="8" height="11" rx="1"/>
                    <rect x="3" y="16" width="18" height="5" rx="1" opacity="0.4"/>
                </svg>
                <span class="nav-brand-text">MIKE'S CARDS</span>
            </a>
            <div class="nav-divider"></div>
            <div class="nav-links">
                <a href="jayden-daniels-rookie-checklist.html" class="nav-link active">JAYDEN DANIELS</a>
                <a href="washington-qbs-rookie-checklist.html" class="nav-link">WASHINGTON QBS</a>
                <a href="jmu-pro-players-checklist.html" class="nav-link">JMU PROS</a>
            </div>
            <div class="nav-divider"></div>
            <div class="nav-auth">
                <span class="sync-status" id="sync-status"></span>
                <div id="auth-content"></div>
            </div>
        </div>
    </nav>

    <div class="page-header">

        <h1>Jayden Daniels Rookie Card Checklist</h1>
        <p class="subtitle">2023 College + 2024 NFL Rookie Cards</p>
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="owned-count">0</div>
                <div class="stat-label">Owned</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="total-count">0</div>
                <div class="stat-label">Total Cards</div>
            </div>
            <div class="stat">
                <div class="stat-value highlight" id="total-value">$0</div>
                <div class="stat-label">Est. Value</div>
                <div class="stat-breakdown">
                    <span class="owned-value" id="owned-value">$0 owned</span>
                    <span class="needed-value" id="needed-value">$0 needed</span>
                </div>
            </div>
        </div>
    </div>

    <div class="page-content">
    <div class="filters">
        <select id="sort-filter">
            <option value="default">Sort: Default</option>
            <option value="year">Sort: Year</option>
            <option value="set">Sort: Set/Brand</option>
            <option value="price-low">Sort: Price (Low→High)</option>
            <option value="price-high">Sort: Price (High→Low)</option>
            <option value="owned">Sort: Owned First</option>
            <option value="needed">Sort: Needed First</option>
        </select>
        <select id="status-filter">
            <option value="all">All Cards</option>
            <option value="owned">Owned Only</option>
            <option value="need">Needed Only</option>
        </select>
        <input type="text" id="search" placeholder="Search cards...">
    </div>

    <!-- SORTED CARDS (shown when sorting is active) -->
    <div class="section" id="sorted-section" style="display: none;">
        <div class="section-header">All Cards</div>
        <div class="card-grid" id="sorted-cards"></div>
    </div>

    <!-- COLLEGE CARDS -->
    <div class="section default-section">
        <div class="section-header college">2023 College Cards (LSU - Heisman Year)</div>
        <div class="card-grid" id="college-cards"></div>
    </div>

    <!-- BASE CARDS 2024 -->
    <div class="group-header">2024 Base Rookie Cards</div>
    <div class="section-group">
        <!-- PANINI 2024 -->
        <div class="section default-section">
            <div class="section-header">Panini</div>
            <div class="card-grid" id="panini-cards"></div>
        </div>

        <!-- TOPPS 2024 -->
        <div class="section default-section">
            <div class="section-header topps">Topps</div>
            <div class="card-grid" id="topps-cards"></div>
        </div>

        <!-- OTHER 2024 -->
        <div class="section default-section">
            <div class="section-header other">Other Brands</div>
            <div class="card-grid" id="other-cards"></div>
        </div>
    </div>

    <!-- INSERTS 2024 -->
    <div class="section inserts-section expanded" id="inserts-section">
        <div class="group-header inserts" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); cursor: pointer;" onclick="toggleInsertsSection()">2024 Inserts</div>
        <div class="inserts-note">Optional insert cards. Not included in main checklist totals.</div>
        <div class="section-group">
            <div class="section default-section">
                <div class="card-grid" id="insert-cards"></div>
            </div>
        </div>
    </div>

    <!-- CHASE CARDS (expensive/rare) -->
    <div class="section chase-section expanded" id="chase-section">
        <div class="section-header chase" onclick="toggleChaseSection()">Chase Cards (SSP/Case Hits)</div>
        <div class="chase-note">Rare SSPs and premium product cards ($50+). Not included in main checklist totals.</div>
        <div class="card-grid" id="chase-cards"></div>
    </div>

    <button class="clear-btn" onclick="checklistManager.clearAll()">Clear All</button>
    </div><!-- end page-content -->

    <script src="github-sync.js"></script>
    <script src="shared.js"></script>
    <script>
        // BASE CARDS ONLY - no parallels or inserts
        const cards = {
            college: [
                { set: "2023 SAGE HIT", num: "#8", name: "Base", type: "Base", search: "jayden+daniels+2023+sage+hit+8", img: "jayden-daniels-cards/daniels_2023_sagehit.webp" },
                { set: "2023 Leaf Trinity", num: "#98", name: "Base", type: "Base", search: "jayden+daniels+2023+leaf+trinity+98", img: "jayden-daniels-cards/card_2023_leaf_trinity_base.webp" },
            ],
            panini: [
                { set: "2024 Score", num: "#3", name: "Base", type: "Base RC", search: "jayden+daniels+2024+score+3", img: "jayden-daniels-cards/score_3.webp", price: 1 },
                { set: "2024 Score", num: "#302", name: "Base", type: "Base RC", search: "jayden+daniels+2024+score+302", img: "jayden-daniels-cards/card_04_T-QAAeSw.webp" },
                { set: "2024 Score 35th Anniversary", num: "#2", name: "Base", type: "Base RC", search: "jayden+daniels+2024+score+35th+anniversary+2", img: "jayden-daniels-cards/score_35th_2.webp" },
                { set: "2024 Donruss", num: "#389", name: "Rated Rookie", type: "Base RC", search: "jayden+daniels+2024+donruss+389", img: "jayden-daniels-cards/card_06_xRQAAeSw.webp" },
                { set: "2024 Donruss Optic", num: "#248", name: "Rated Rookie", type: "Base RC", search: "jayden+daniels+2024+donruss+optic+248", img: "jayden-daniels-cards/optic_248.webp" },
                { set: "2024 Donruss Elite", num: "#15", name: "Rookie Elitist", type: "Base RC", search: "jayden+daniels+2024+donruss+elite+15", img: "jayden-daniels-cards/elite_15.webp" },
                { set: "2024 Prizm", num: "#347", name: "Base", type: "Base RC", search: "jayden+daniels+2024+prizm+347", img: "jayden-daniels-cards/card_11_lBUAAeSw.webp" },
                { set: "2024 Prizm Draft Picks", num: "#108", name: "Base", type: "Base RC", search: "jayden+daniels+2024+prizm+draft+picks+108", img: "jayden-daniels-cards/prizm_draft_108.webp" },
                { set: "2024 Select", num: "#26", name: "Concourse", type: "Base RC", search: "jayden+daniels+2024+select+26", img: "jayden-daniels-cards/card_14_4LwAAeSw.webp" },
                { set: "2024 Select", num: "#112", name: "Premier Level", type: "Base RC", search: "jayden+daniels+2024+select+premier+112", img: "jayden-daniels-cards/select_premier_level.webp" },
                { set: "2024 Mosaic", num: "#302", name: "Base", type: "Base RC", search: "jayden+daniels+2024+mosaic+302", img: "jayden-daniels-cards/mosaic_302.webp" },
                { set: "2024 Mosaic NFL Debut", num: "#272", name: "Base", type: "Base RC", search: "jayden+daniels+2024+mosaic+nfl+debut+272", img: "jayden-daniels-cards/mosaic_nfl_debut.webp" },
                { set: "2024 Absolute", num: "#102", name: "Base", type: "Base RC", search: "jayden+daniels+2024+absolute+102", img: "jayden-daniels-cards/card_20_HoAAAeSw.webp" },
                { set: "2024 Contenders", num: "#RTS-JDS", name: "Rookie Ticket Swatches", type: "Base RC", search: "jayden+daniels+2024+contenders+rookie+ticket+swatches", img: "jayden-daniels-cards/contenders_rookie_ticket_swatches.webp" },
                { set: "2024 Contenders", num: "#RTS-JDS", name: "Rookie Ticket Swatches Variation", type: "Base RC", search: "jayden+daniels+2024+contenders+rookie+ticket+swatches+variation", img: "jayden-daniels-cards/contenders_rookie_ticket_swatches_variation.webp" },
                { set: "2024 Phoenix", num: "#198", name: "Base", type: "Base RC", search: "jayden+daniels+2024+phoenix+198", img: "jayden-daniels-cards/phoenix_198.webp" },
                { set: "2024 Prestige", num: "#302", name: "Base", type: "Base RC", search: "jayden+daniels+2024+prestige+302", img: "jayden-daniels-cards/card_25_4vYAAeSw.webp" },
                { set: "2024 Certified", num: "", name: "Base", type: "Base RC", search: "jayden+daniels+2024+certified+base", img: "jayden-daniels-cards/certified_base.webp" },
                { set: "2024 Luminance", num: "#102", name: "Base Vertical", type: "Base RC", search: "jayden+daniels+2024+luminance+102", img: "jayden-daniels-cards/card_29_-ysAAeSw.webp" },
                { set: "2024 Luminance", num: "#182", name: "Base Horizontal", type: "Base RC", search: "jayden+daniels+2024+luminance+182", img: "jayden-daniels-cards/luminance_182_horizontal.webp" },
                { set: "2024 Origins", num: "#144", name: "Base", type: "Base RC", search: "jayden+daniels+2024+origins+144", img: "jayden-daniels-cards/origins_144.webp" },
                { set: "2024 Rookies & Stars", num: "#148", name: "Base", type: "Base RC", search: "jayden+daniels+2024+rookies+stars+148", img: "jayden-daniels-cards/rookies_stars_148.webp" },
                { set: "2024 Totally Certified", num: "", name: "Base", type: "Base RC", search: "jayden+daniels+2024+totally+certified+base", img: "jayden-daniels-cards/card_34_5pwAAeSw.webp" },
                { set: "2024 Zenith", num: "#148", name: "Base", type: "Base RC", search: "jayden+daniels+2024+zenith+148", img: "jayden-daniels-cards/zenith_148.webp" },
                { set: "2024 Illusions", num: "#93", name: "Base", type: "Base RC", search: "jayden+daniels+2024+illusions+93", img: "jayden-daniels-cards/illusions_93.webp" },
                { set: "2024 Select", num: "#217", name: "Club Level", type: "Base RC", search: "jayden+daniels+2024+select+club+level+217", img: "jayden-daniels-cards/select_club_level_217.webp" },
            ],
            topps: [
                { set: "2024 Topps Allen & Ginter", num: "#293", name: "Base", type: "Base RC", search: "jayden+daniels+2024+topps+allen+ginter+293", img: "jayden-daniels-cards/allen_ginter_293.webp" },
                { set: "2024 Topps Chrome", num: "#201", name: "Base", type: "Base RC", search: "jayden+daniels+2024+topps+chrome+201", img: "jayden-daniels-cards/card_37_BFIAAeSw.webp" },
                { set: "2024 Topps Now", num: "#23", name: "NFL Debut", type: "Base", search: "jayden+daniels+2024+topps+now+23", img: "jayden-daniels-cards/card_39_fA4AAeSw.webp" },
                { set: "2024 Topps Cosmic Chrome", num: "#196", name: "Base", type: "Base RC", search: "jayden+daniels+2024+topps+cosmic+chrome+196", img: "jayden-daniels-cards/cosmic_chrome_196.webp" },
                { set: "2024 Topps Resurgence", num: "#196", name: "Base", type: "Base RC", search: "jayden+daniels+2024+topps+resurgence+196", img: "jayden-daniels-cards/resurgence_196.webp" },
                { set: "2024 Topps Signature Class", num: "#194", name: "Base", type: "Base RC", search: "jayden+daniels+2024+topps+signature+class+194", img: "jayden-daniels-cards/signature_194.webp" },
            ],
            other: [
                { set: "2024 Leaf Metal", num: "", name: "Base", type: "Base RC", search: "jayden+daniels+2024+leaf+metal", img: "jayden-daniels-cards/leaf_metal.webp" },
                { set: "2024 Leaf Trinity", num: "", name: "Base", type: "Base RC", search: "jayden+daniels+2024+leaf+trinity", img: "jayden-daniels-cards/card_42_Fj8AAeSw.webp" },
                { set: "2024 SAGE Hit", num: "", name: "Base", type: "Base RC", search: "jayden+daniels+2024+sage+hit", img: "jayden-daniels-cards/sage_hit.webp" },
                { set: "2024 SAGE Artistry", num: "#59", name: "Base", type: "Base RC", search: "jayden+daniels+2024+sage+artistry+59", img: "jayden-daniels-cards/sage_artistry_59.webp" },
                { set: "2024 SAGE Next Level", num: "", name: "Base", type: "Base RC", search: "jayden+daniels+2024+sage+next+level", img: "jayden-daniels-cards/sage_next_level.webp" },
                { set: "2024 SAGE Hit Low Series", num: "#16", name: "Base", type: "Base RC", search: "jayden+daniels+2024+sage+hit+low+series", img: "jayden-daniels-cards/sage_hit_low_series.webp" },
            ],
            inserts: [
                { set: "2024 Prizm Emergent", num: "#E-11", name: "Base", type: "Insert", search: "jayden+daniels+2024+prizm+emergent+E-11", img: "jayden-daniels-cards/prizm_emergent.webp" },
                { set: "2024 Prizm Fireworks", num: "#24", name: "Base", type: "Insert", search: "jayden+daniels+2024+prizm+fireworks+24", img: "jayden-daniels-cards/prizm_fireworks.webp" },
                { set: "2024 Prizm Prizmatic", num: "#3", name: "Base", type: "Insert", search: "jayden+daniels+2024+prizm+prizmatic+3", img: "jayden-daniels-cards/prizm_prizmatic.webp" },
                { set: "2024 Prizm Manga", num: "#M-JAD", name: "Base", type: "Insert", search: "jayden+daniels+2024+prizm+manga", img: "jayden-daniels-cards/prizm_manga.webp" },
                { set: "2024 Prizm Draft Picks Manga", num: "#M-JAD", name: "Base", type: "Insert", search: "jayden+daniels+2024+prizm+draft+picks+manga", img: "jayden-daniels-cards/prizm_draft_manga.webp" },
                { set: "2024 Mosaic Notoriety", num: "#19", name: "Base", type: "Insert", search: "jayden+daniels+2024+mosaic+notoriety+19", img: "jayden-daniels-cards/mosaic_notoriety.webp" },
                { set: "2024 Mosaic Center Stage", num: "#8", name: "Base", type: "Insert", search: "jayden+daniels+2024+mosaic+center+stage+8", img: "jayden-daniels-cards/mosaic_center_stage.webp" },
                { set: "2024 Mosaic Overdrive", num: "#5", name: "Base", type: "Insert", search: "jayden+daniels+2024+mosaic+overdrive+5", img: "jayden-daniels-cards/mosaic_overdrive.webp" },
                { set: "2024 Mosaic Kaleidoscopic", num: "#21", name: "Base", type: "Insert", search: "jayden+daniels+2024+mosaic+kaleidoscopic+21", img: "jayden-daniels-cards/mosaic_kaleidoscopic.webp" },
                { set: "2024 Mosaic Stained Glass", num: "#SG-17", name: "Base", type: "Insert", search: "jayden+daniels+2024+mosaic+stained+glass", img: "jayden-daniels-cards/mosaic_stained_glass.webp" },
                { set: "2024 Mosaic Micro", num: "#MM-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+mosaic+micro", img: "jayden-daniels-cards/mosaic_micro.webp" },
                { set: "2024 Mosaic Money", num: "#10", name: "Base", type: "Insert", search: "jayden+daniels+2024+mosaic+money+10", img: "jayden-daniels-cards/mosaic_money.webp" },
                { set: "2024 Score Hot Rookies", num: "#4", name: "Base", type: "Insert", search: "jayden+daniels+2024+score+hot+rookies+4", img: "jayden-daniels-cards/score_hot_rookies.webp" },
                { set: "2024 Illusions Instant Impact", num: "#4", name: "Base", type: "Insert", search: "jayden+daniels+2024+illusions+instant+impact+4", img: "jayden-daniels-cards/illusions_instant_impact.webp" },
                { set: "2024 Illusions Mystique", num: "#M-4", name: "Base", type: "Insert", search: "jayden+daniels+2024+illusions+mystique+M-4", img: "jayden-daniels-cards/illusions_mystique.webp" },
                { set: "2024 Illusions Great Expectations", num: "#GE-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+illusions+great+expectations", img: "jayden-daniels-cards/illusions_great_expectations.webp" },
                { set: "2024 Donruss Rated Rookie Retro", num: "#11", name: "Base", type: "Insert", search: "jayden+daniels+2024+donruss+rated+rookie+retro+11", img: "jayden-daniels-cards/donruss_rated_rookie_retro.webp" },
                { set: "2024 Donruss Bomb Squad", num: "#29", name: "Base", type: "Insert", search: "jayden+daniels+2024+donruss+bomb+squad+29", img: "jayden-daniels-cards/donruss_bomb_squad.webp" },
                { set: "2024 Donruss Optic Passing Grade", num: "#2", name: "Base", type: "Insert", search: "jayden+daniels+2024+donruss+optic+passing+grade+2", img: "jayden-daniels-cards/donruss_optic_passing_grade.webp" },
                { set: "2024 Phoenix Rookie Rising", num: "#RR-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+phoenix+rookie+rising", img: "jayden-daniels-cards/phoenix_rookie_rising.webp" },
                { set: "2024 Phoenix Contours", num: "#CON-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+phoenix+contours", img: "jayden-daniels-cards/phoenix_contours.webp" },
                { set: "2024 Absolute Star Gazing", num: "#SG-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+absolute+star+gazing", img: "jayden-daniels-cards/absolute_star_gazing.webp" },
                { set: "2024 Absolute Introductions", num: "#I-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+absolute+introductions", img: "jayden-daniels-cards/absolute_introductions.webp" },
                { set: "2024 Absolute Explosive", num: "#EX-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+absolute+explosive", img: "jayden-daniels-cards/absolute_explosive.webp" },
                { set: "2024 Absolute By Storm", num: "#BS-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+absolute+by+storm", img: "jayden-daniels-cards/absolute_by_storm.webp" },
                { set: "2024 Absolute Rock Out", num: "#RO-JDS", name: "Base", type: "Insert", search: "jayden+daniels+2024+absolute+rock+out", img: "jayden-daniels-cards/absolute_rock_out.webp" },
                { set: "2024 Select Future", num: "#4", name: "Base", type: "Insert", search: "jayden+daniels+2024+select+future+4", img: "jayden-daniels-cards/select_future.webp" },
                { set: "2024 Select Turbocharged", num: "#12", name: "Base", type: "Insert", search: "jayden+daniels+2024+select+turbocharged+12", img: "jayden-daniels-cards/select_turbocharged.webp" },
                { set: "2024 Select Numbers", num: "#23", name: "Base", type: "Insert", search: "jayden+daniels+2024+select+numbers+23", img: "jayden-daniels-cards/select_numbers.webp" },
                { set: "2024 Contenders Rookie Stallions", num: "#3", name: "Base", type: "Insert", search: "jayden+daniels+2024+contenders+rookie+stallions+3", img: "jayden-daniels-cards/contenders_rookie_stallions.webp" },
                { set: "2024 Contenders Draft Class", num: "#2", name: "Base", type: "Insert", search: "jayden+daniels+2024+contenders+draft+class+2", img: "jayden-daniels-cards/contenders_draft_class.webp" },
                { set: "2024 Zenith State of the Art", num: "#19", name: "Base", type: "Insert", search: "jayden+daniels+2024+zenith+state+of+the+art+19", img: "jayden-daniels-cards/zenith_state_of_the_art.webp" },
                { set: "2024 Zenith Z Marquee", num: "#2", name: "Base", type: "Insert", search: "jayden+daniels+2024+zenith+z+marquee+2", img: "jayden-daniels-cards/zenith_z_marquee.webp" },
                { set: "2024 Totally Certified Franchise Foundations", num: "#20", name: "Base", type: "Insert", search: "jayden+daniels+2024+totally+certified+franchise+foundations", img: "jayden-daniels-cards/totally_certified_franchise_foundations.webp" },
                { set: "2024 Totally Certified Portraits", num: "#1", name: "Base", type: "Insert", search: "jayden+daniels+2024+totally+certified+portraits+1", img: "jayden-daniels-cards/totally_certified_portraits.webp" },
                { set: "2024 Totally Certified The Mighty", num: "#18", name: "Base", type: "Insert", search: "jayden+daniels+2024+totally+certified+the+mighty+18", img: "jayden-daniels-cards/totally_certified_the_mighty.webp" },
                { set: "2024 Cosmic Chrome Star Command", num: "#SC-25", name: "Base", type: "Insert", search: "jayden+daniels+2024+cosmic+chrome+star+command", img: "jayden-daniels-cards/cosmic_chrome_star_command.webp" },
                { set: "2024 Cosmic Chrome Launched Into Orbit", num: "#LIO-10", name: "Base", type: "Insert", search: "jayden+daniels+2024+cosmic+chrome+launched+into+orbit", img: "jayden-daniels-cards/cosmic_chrome_launched_into_orbit.webp" },
                { set: "2024 Cosmic Chrome Star Clusters", num: "#SC-8", name: "w/ Hartman", type: "Insert", search: "jayden+daniels+2024+cosmic+chrome+star+clusters", img: "jayden-daniels-cards/card_40_ifwAAeSw.webp" },
                { set: "2024 Chrome Finesse", num: "#F-3", name: "Base", type: "Insert", search: "jayden+daniels+2024+topps+chrome+finesse", img: "jayden-daniels-cards/chrome_finesse.webp" },
                { set: "2024 Chrome Future Stars", num: "#FS-2", name: "Base", type: "Insert", search: "jayden+daniels+2024+topps+chrome+future+stars", img: "jayden-daniels-cards/chrome_future_stars.webp" },
                { set: "2024 Chrome 1974", num: "#74TF-2", name: "Base", type: "Insert", search: "jayden+daniels+2024+topps+chrome+1974", img: "jayden-daniels-cards/chrome_1974.webp" },
                { set: "2024 Chrome Youthquake", num: "#Y-3", name: "Base", type: "Insert", search: "jayden+daniels+2024+topps+chrome+youthquake", img: "jayden-daniels-cards/chrome_youthquake.webp" },
                { set: "2024 Chrome All-Etch", num: "#CAE-JD", name: "Base", type: "Insert", search: "jayden+daniels+2024+topps+chrome+all+etch", img: "jayden-daniels-cards/chrome_all_etch.webp" },
                { set: "2024 Signature Class Fluidity", num: "#F-2", name: "Base", type: "Insert", search: "jayden+daniels+2024+topps+signature+class+fluidity", img: "jayden-daniels-cards/signature_class_fluidity.webp" },
                { set: "2024 Signature Class After Image", num: "#AI-7", name: "Base", type: "Insert", search: "jayden+daniels+2024+topps+signature+class+after+image", img: "jayden-daniels-cards/signature_class_after_image.webp" },
            ],
            chase: [
                { set: "2024 Donruss Downtown", num: "#16", name: "Base", type: "Insert SSP", search: "jayden+daniels+2024+donruss+downtown+16", img: "jayden-daniels-cards/donruss_downtown.webp" },
                { set: "2024 Donruss Optic Uptowns", num: "#2", name: "Base", type: "Insert SSP", search: "jayden+daniels+2024+donruss+optic+uptowns+2", img: "jayden-daniels-cards/donruss_optic_uptowns.webp" },
                { set: "2024 Absolute Kaboom", num: "#2", name: "Vertical", type: "Insert SSP", price: 6000, search: "jayden+daniels+2024+absolute+kaboom+vertical+2", img: "" },
                { set: "2024 Absolute Kaboom", num: "#7", name: "Horizontal", type: "Insert SSP", price: 800, search: "jayden+daniels+2024+absolute+kaboom+7", img: "jayden-daniels-cards/absolute_kaboom.webp" },
                { set: "2024 Prizm Color Blast", num: "#3", name: "Base", type: "Insert SSP", search: "jayden+daniels+2024+prizm+color+blast+3", img: "jayden-daniels-cards/prizm_color_blast.webp" },
                { set: "2024 Prizm Draft Picks Color Blast", num: "#CB-5", name: "Base", type: "Insert SSP", search: "jayden+daniels+2024+prizm+draft+picks+color+blast", img: "jayden-daniels-cards/prizm_draft_color_blast.webp" },
                { set: "2024 Phoenix Color Blast", num: "#CB-JDS", name: "Base", type: "Insert SSP", search: "jayden+daniels+2024+phoenix+color+blast", img: "jayden-daniels-cards/phoenix_color_blast.webp" },
                { set: "2024 Gold Standard", num: "#102", name: "Base", type: "Premium Base", price: 175, search: "jayden+daniels+2024+gold+standard+102", img: "jayden-daniels-cards/gold_standard_102.webp" },
            ]
        };

        // Initialize checklist manager
        const checklistManager = new ChecklistManager({
            checklistId: 'jayden-daniels',
            ownerUsername: 'iammike',
            localStorageKey: 'jaydenDanielsOwned',
            onOwnedChange: () => { renderCards(); updateStats(); },
            getStats: () => computeStats()
        });

        // Use shared utilities
        function estimatePrice(card) { return PriceUtils.estimate(card); }
        function getCardId(card) { return checklistManager.getCardId(card); }
        function isOwned(cardId) { return checklistManager.isOwned(cardId); }

        function toggleOwned(cardId, checkbox) {
            checklistManager.toggleOwned(cardId, checkbox.checked);
            const cardEl = checkbox.closest('.card');
            cardEl.classList.toggle('owned', checkbox.checked);
            updateStats();
        }

        function applyFilters() {
            FilterUtils.applyFilters({ onFilter: updateStats });
        }

        // Compute stats for display and saving (used by both updateStats and getStats callback)
        function computeStats() {
            const mainCards = document.querySelectorAll('.default-section:not(.inserts-section .default-section) .card:not([style*="display: none"]), #sorted-section .card:not([style*="display: none"])');
            let ownedVisible = 0, totalValue = 0, ownedValue = 0, neededValue = 0;
            mainCards.forEach(c => {
                const price = parseFloat(c.dataset.price);
                const owned = c.classList.contains('owned');
                totalValue += price;
                if (owned) {
                    ownedVisible++;
                    ownedValue += price;
                } else {
                    neededValue += price;
                }
            });
            const ownedInserts = cards.inserts.filter(c => isOwned(getCardId(c))).length;
            const ownedChase = cards.chase.filter(c => isOwned(getCardId(c))).length;

            return {
                owned: ownedVisible,
                total: mainCards.length,
                ownedValue: Math.round(ownedValue),
                neededValue: Math.round(neededValue),
                insertsOwned: ownedInserts,
                insertsTotal: cards.inserts.length,
                chaseOwned: ownedChase,
                chaseTotal: cards.chase.length
            };
        }

        function updateStats() {
            const stats = computeStats();

            // Animate stats on first load
            StatsAnimator.animateStats({
                owned: { el: document.getElementById('owned-count'), value: stats.owned },
                total: { el: document.getElementById('total-count'), value: stats.total },
                totalValue: { el: document.getElementById('total-value'), value: stats.ownedValue + stats.neededValue },
                ownedValue: { el: document.getElementById('owned-value'), value: stats.ownedValue },
                neededValue: { el: document.getElementById('needed-value'), value: stats.neededValue }
            });
            // Stats are now saved atomically with owned cards via getStats callback
        }

        function toggleChaseSection() {
            const section = document.getElementById('chase-section');
            const header = section.querySelector('.section-header');
            section.classList.toggle('expanded');
            header.classList.toggle('collapsed');
        }

        function toggleInsertsSection() {
            const section = document.getElementById('inserts-section');
            const header = section.querySelector('.group-header');
            section.classList.toggle('expanded');
            header.classList.toggle('collapsed');
        }

        function createCardElement(card) {
            const cardId = getCardId(card);
            const owned = isOwned(cardId);
            const price = estimatePrice(card);
            const searchUrl = CardRenderer.getEbayUrl(card.search);
            const scpUrl = CardRenderer.getScpUrl(card.search);

            return `
                <div class="card ${owned ? 'owned' : ''}" data-price="${price}" data-type="${card.type}">
                    <div class="card-image-wrapper">
                        ${CardRenderer.renderPriceBadge(price)}
                        ${CardRenderer.renderCardImage(card.img, card.set, searchUrl)}
                    </div>
                    <div class="card-title">${card.set}</div>
                    <div class="card-number">${card.num} ${card.name}</div>
                    <div class="card-type">${card.type}</div>
                    <div class="card-actions${checklistManager.isReadOnly && !owned ? ' links-only' : ''}">
                        ${CardRenderer.renderOwnedControl(cardId, owned, checklistManager.isReadOnly)}
                        ${CardRenderer.renderSearchLinks(searchUrl, scpUrl)}
                    </div>
                </div>
            `;
        }

        function getAllCards() {
            // Flatten all cards with category info for sorting
            return [
                ...cards.college.map(c => ({...c, category: 'college', sortOrder: 0})),
                ...cards.panini.map(c => ({...c, category: 'panini', sortOrder: 1})),
                ...cards.topps.map(c => ({...c, category: 'topps', sortOrder: 2})),
                ...cards.other.map(c => ({...c, category: 'other', sortOrder: 3})),
                ...cards.inserts.map(c => ({...c, category: 'inserts', sortOrder: 4}))
            ];
        }

        function getYear(card) {
            const match = card.set.match(/^(\d{4})/);
            return match ? parseInt(match[1]) : 0;
        }

        function getSetName(card) {
            return card.set.replace(/^\d{4}\s*/, '').toLowerCase();
        }

        function sortCards(cardsToSort, sortBy) {
            const sorted = [...cardsToSort];
            switch (sortBy) {
                case 'year':
                    sorted.sort((a, b) => getYear(a) - getYear(b) || getSetName(a).localeCompare(getSetName(b)));
                    break;
                case 'set':
                    sorted.sort((a, b) => getSetName(a).localeCompare(getSetName(b)));
                    break;
                case 'price-low':
                    sorted.sort((a, b) => estimatePrice(a) - estimatePrice(b));
                    break;
                case 'price-high':
                    sorted.sort((a, b) => estimatePrice(b) - estimatePrice(a));
                    break;
                case 'owned':
                    sorted.sort((a, b) => {
                        const ownedA = isOwned(getCardId(a)) ? 0 : 1;
                        const ownedB = isOwned(getCardId(b)) ? 0 : 1;
                        return ownedA - ownedB || a.sortOrder - b.sortOrder;
                    });
                    break;
                case 'needed':
                    sorted.sort((a, b) => {
                        const ownedA = isOwned(getCardId(a)) ? 1 : 0;
                        const ownedB = isOwned(getCardId(b)) ? 1 : 0;
                        return ownedA - ownedB || a.sortOrder - b.sortOrder;
                    });
                    break;
                default:
                    sorted.sort((a, b) => a.sortOrder - b.sortOrder);
            }
            return sorted;
        }

        function renderCards() {
            const sortBy = document.getElementById('sort-filter').value;
            const defaultSections = document.querySelectorAll('.default-section');
            const sortedSection = document.getElementById('sorted-section');

            if (sortBy === 'default') {
                // Show default sections, hide sorted section
                defaultSections.forEach(s => s.style.display = '');
                sortedSection.style.display = 'none';
                document.getElementById('sorted-cards').innerHTML = '';

                document.getElementById('college-cards').innerHTML = cards.college.map(createCardElement).join('');
                document.getElementById('panini-cards').innerHTML = cards.panini.map(createCardElement).join('');
                document.getElementById('topps-cards').innerHTML = cards.topps.map(createCardElement).join('');
                document.getElementById('other-cards').innerHTML = cards.other.map(createCardElement).join('');
                document.getElementById('insert-cards').innerHTML = cards.inserts.map(createCardElement).join('');
            } else {
                // Hide default sections, clear their content, show sorted section
                defaultSections.forEach(s => s.style.display = 'none');
                document.getElementById('college-cards').innerHTML = '';
                document.getElementById('panini-cards').innerHTML = '';
                document.getElementById('topps-cards').innerHTML = '';
                document.getElementById('other-cards').innerHTML = '';
                document.getElementById('insert-cards').innerHTML = '';
                sortedSection.style.display = '';

                const allCards = getAllCards();
                const sorted = sortCards(allCards, sortBy);
                document.getElementById('sorted-cards').innerHTML = sorted.map(createCardElement).join('');
            }
            // Always render chase cards (separate from sorting)
            document.getElementById('chase-cards').innerHTML = cards.chase.map(createCardElement).join('');
            updateStats();
        }

        // Set up filter event listeners
        document.getElementById('sort-filter').addEventListener('change', renderCards);
        document.getElementById('status-filter').addEventListener('change', applyFilters);
        document.getElementById('search').addEventListener('input', applyFilters);

        // Initialize
        async function init() {
            await checklistManager.init();
            renderCards();
        }
        init();
    </script>
</body>
</html>
